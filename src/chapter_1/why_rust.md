# 第一章 为什么用Rust？


__名人名言略__


自50年前我们开始用高级编程语言去写操作系统至今，系统级编程语言已经走过了一段相当长的路，但还有两个人人皆知的特定问题仍未解决。
* 很难写出安全的代码，尤其困难的是在C/C++中正确地管理内存。几十年来，我们一直在忍受着由此带来的后果————安全漏洞，其最早的形式可追溯到1988年的Morris蠕虫病毒。
* 很难进行多线程编程，然而这却是充分利用现代机器性能的唯一方法。甚至是颇有经验的程序员处理多线程代码时也得小心翼翼：因为并发会导致一些新型bug，并使普通bug更难重现。


而Rust正是：一门性能比肩C/C++，同时还注重安全和高效并发的语言。


Rust是一门由Mozilla和社区贡献者发明的新型系统级编程语言。与C/C++一样，Rust给程序员提供了管理内存的有效手段，并在语言的原生操作和运行该语言的机器的原始操作之间保持了密切的联系，帮助我们预测性能的开销。Rust的伟大愿景与Bjarne Stroustrup的论文"Abstraction and the C++ Model"中对C++期盼的一样：
> 一般来说，由C++编写的代码遵循零开销原则：你不需要为了不使用的东西而付出什么。更进一步地说：你所正在使用的，已经是最好的代码了。


为了这个愿景，Rust给自己设定了关于内存安全和可信任并发的目标。


达成上述目标的关键是Rust的新颖的所有权系统，移动(_moves_)和借用(brorrows)，编译时检查和小心谨慎的设计去完备Rust灵活的静态类型系统。所有权系统为每一个值都明确了生命周期，使得语言的核心部分不需要实现垃圾回收(GC)，并为管理其他类型资源如套接字和文件句柄使用了合理且灵活的接口。“移动”将值从一个所有者转移到另一个，而“借用”可以让代码暂时使用一个值却不影响它到所有权。因为许多程序员在此之前从未遇到过这些特性，我们将在第四章和第五章详细地讲解。


Rust不是一门真正的面向对象语言，尽管它具有一些面向对象的特性。Rust不是一门函数式编程语言，尽管它确实倾向于函数式编程那样，让计算结果的影响更加明确。Rust在某种程度上类似于C/C++，但这些语言的习惯用法却并不适用于Rust。因此，经典的Rust代码在很大程度上并不类似于C/C++的代码。所以最好还是保留对什么是Rust的判断，然后看看习惯了这种语言之后你的想法。


为了在现实应用中获得设计上的反馈，Mozilla用Rust开发了一个新的Web浏览器引擎Servo，Servo的需求和Rust的愿景很好地匹配：浏览器性能良好并安全地处理不可信的数据。Servo使用Rust的安全并发性去处理C/C++无法并行化的工作。事实上，Servo和Rust是一起成长起来的，Servo使用最新的语言特性，而Rust则是根据Servo开发人员的反馈一点一点进化的。
